# ~/.inputrc
# Description : Readline config with vi-mode and enhanced completion
# Author      : makmat
# Date        : 2025-12-02
# Version     : 1.0

# ------------------------------
# Editing mode & prompt
# ------------------------------
set editing-mode vi
set show-mode-in-prompt on
set vi-ins-mode-string "(ins)  "
set vi-cmd-mode-string "(cmd)  "

# ------------------------------
# Vi keymaps
# ------------------------------
$if mode=vi
    # --- Normal mode ---
    set keymap vi-command
    j: history-search-forward
    k: history-search-backward
    h: backward-char
    l: forward-char
    "dd": kill-whole-line
    "o": clear-screen
    "\C-w": kill-word

    # --- Insert mode ---
    set keymap vi-insert
    "\C-j": history-search-forward
    "\C-k": history-search-backward
    "\C-h": backward-char
    "\C-l": forward-char
    "\C-d": kill-whole-line
    "\C-a": beginning-of-line
    "\C-e": end-of-line
    "\C-o": clear-screen
    "\C-w": kill-word
$endif

# ------------------------------
# Completion behavior
# ------------------------------
"\t": menu-complete
set colored-completion-prefix on
set colored-stats on
set completion-ignore-case on
set completion-map-case on
set completion-query-items 80
set show-all-if-ambiguous on

# ------------------------------
# History & input behavior
# ------------------------------
set history-size 2000
set keyseq-timeout 300

# ------------------------------
# Optional tweaks
# ------------------------------
# Enable incremental history search
"\C-r": reverse-search-history
"\C-s": forward-search-history
