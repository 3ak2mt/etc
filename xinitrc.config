#!/bin/sh
# ~/.xinitrc
# Description : Minimal, declarative X11 session initializer with safer handling
# Author      : makmat
# Date        : 2025-12-02
# Version     : 1.0

set -euo pipefail
IFS=$'\n\t'

# ------------------------------
# Environment
# ------------------------------

export TERM="${TERM:-st}"
export BROWSER="${BROWSER:-firefox}"

# ------------------------------
# Launch window manager
# ------------------------------

exec_i3_or_fail() {
    if command -v i3 >/dev/null 2>&1; then
        exec i3
    else
        printf "Error: i3 not found.\n" >&2
        exit 1
    fi
}

exec_i3_or_fail
